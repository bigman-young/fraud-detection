apiVersion: v1
kind: ConfigMap
metadata:
  name: fraud-detection-config
  namespace: fraud-detection
  labels:
    app: fraud-detection-system
data:
  # Kafka Configuration
  KAFKA_BOOTSTRAP_SERVERS: "kafka-service.kafka:9092"
  INPUT_TOPIC: "transactions"
  ALERT_TOPIC: "fraud-alerts"
  
  # Flink Configuration
  PARALLELISM: "4"
  USE_KAFKA: "true"
  
  # Fraud Detection Configuration
  ALERT_THRESHOLD: "0.4"
  
  # Application properties
  application.properties: |
    # Fraud Detection System Configuration
    kafka.bootstrap.servers=${KAFKA_BOOTSTRAP_SERVERS}
    kafka.input.topic=transactions
    kafka.alert.topic=fraud-alerts
    kafka.consumer.group.id=fraud-detection-group
    
    flink.parallelism=4
    flink.checkpoint.interval=60000
    flink.checkpoint.mode=EXACTLY_ONCE
    
    fraud.detection.alert.threshold=0.4
    fraud.detection.high.value.threshold=10000
    fraud.detection.high.value.critical.threshold=50000
    
    logging.level.com.hsbc.fraud=INFO
    logging.level.FraudAlerts=WARN

